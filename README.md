# Pendrej Reservations App
Welcome to Pendrej Reservations, the ultimate solution for effortlessly managing room reservations in your building complex! With our intuitive app, booking and organizing rooms becomes a seamless experience, ensuring that every space is utilized efficiently. Whether you're coordinating meeting rooms in a corporate office or managing spaces in a hospitality venue, Pendrej Reservations brings simplicity and sophistication to your fingertips. Dive into a world where every reservation is just a click away, and managing your building's rooms is a breeze. Embrace the future of space management with Pendrej Reservations today!

### How to set-up the project

#### Clone and access the code
```
git clone git@gitlab.fit.cvut.cz:BI-TWA/B231/team-pendrej.git
cd team-pendrej
```

### Add your user and group information (for correct permission settings)
Create a `.env.local` file with following content, this file is not committed:
```txt
USER_NAME=<your PC user name>
GROUP_NAME=<your PC group name>
```

#### Start-up Docker and install all dependencies
```
docker compose up
docker exec -it pendrej-app composer install
```

#### Check status
Is application running? http://localhost:8080/
Is database (Adminer connection) running? http://localhost:8081/
- System: PostgreSQL
- Server: database
- User: app
- Password: app

### Update database
```
docker exec -it pendrej-app php bin/console doctrine:migrations:migrate
```

### Load fixtures
```
docker exec -it pendrej-app php bin/console doctrine:fixtures:load
```

### Useful commands
```
docker exec -it pendrej-app composer ...
docker exec -it pendrej-app symfony ... # access the Symfony binary
docker exec -it pendrej-app php bin/console make: ... # make commands for Symfony apps
```

### Authentication
The majority of the application is protected by authentication. To log in, use the following credentials to log in as an admin (generated by Fixtures):
```txt
Username: admin
Password: admin
```
API authentication is done via JWT tokens. To obtain a token, send a POST request to `/api/login_check` with the following body:
```json
{
  "username": "admin",
  "password": "admin"
}
```
You will receive a token in the response body. To authenticate, add the Authentication header with Bearer token to your request.
Authorization - Bearer [token]

If you don't have `private.pem` and `public.pem` files in the `config/jwt` directory, you need to generate them. To do so, run the following commands:
```bash
docker exec -it pendrej-app php bin/console lexik:jwt:generate-keypair
```
More information about JWT authentication can be found in the [LexikJWTAuthenticationBundle documentation](https://symfony.com/bundles/LexikJWTAuthenticationBundle/current/index.html).

### Authors

- Petr Kudrnovský - kudrnpe3
- Andrej Meliška - melisand
